{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/nikhil.ismail/Github/order-bud/OrderBud/frontend/Screens/Products/ProductContainer.js\";\n\nimport React, { useState, useCallback } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Container } from \"native-base\";\nimport { useFocusEffect } from '@react-navigation/native';\nimport baseUrl from \"../../assets/common/baseUrl\";\nimport axios from 'axios';\nimport { Icon } from 'react-native-elements';\nimport ProductList from \"./ProductList\";\nimport SearchedProduct from \"./SearchedProducts\";\nimport Banner from \"../../Shared/Banner\";\nimport CategoryFilter from \"./CategoryFilter\";\nimport baseURL from \"../../assets/common/baseUrl\";\n\nvar _Dimensions$get = Dimensions.get('window'),\n    height = _Dimensions$get.height;\n\nvar ProductContainer = function ProductContainer(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      products = _useState2[0],\n      setProducts = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      productsFiltered = _useState4[0],\n      setProductsFiltered = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      focus = _useState6[0],\n      setFocus = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      categories = _useState8[0],\n      setCategories = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      productsCtg = _useState10[0],\n      setProductsCtg = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      active = _useState12[0],\n      setActive = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      initialState = _useState14[0],\n      setInitialState = _useState14[1];\n\n  var _useState15 = useState(true),\n      _useState16 = _slicedToArray(_useState15, 2),\n      loading = _useState16[0],\n      setLoading = _useState16[1];\n\n  useFocusEffect(useCallback(function () {\n    setFocus(false);\n    setActive(-1);\n    axios.get(baseURL + \"products\").then(function (res) {\n      setProducts(res.data);\n      setProductsFiltered(res.data);\n      setProductsCtg(res.data);\n      setInitialState(res.data);\n      setLoading(false);\n    }).catch(function (error) {\n      console.log('Api call error');\n    });\n    axios.get(baseURL + \"categories\").then(function (res) {\n      setCategories(res.data);\n    }).catch(function (error) {\n      console.log('Api call error');\n    });\n    return function () {\n      setProducts([]);\n      setProductsFiltered([]);\n      setFocus();\n      setCategories([]);\n      setActive();\n      setInitialState();\n    };\n  }, []));\n\n  var searchProduct = function searchProduct(text) {\n    setProductsFiltered(products.filter(function (i) {\n      return i.name.toLowerCase().includes(text.toLowerCase());\n    }));\n  };\n\n  var changeCtg = function changeCtg(ctg) {\n    {\n      ctg === \"all\" ? [setProductsCtg(initialState), setActive(true)] : [setProductsCtg(products.filter(function (i) {\n        return i.category._id === ctg;\n      }), setActive(true))];\n    }\n  };\n\n  return React.createElement(React.Fragment, null, loading == false ? React.createElement(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, focus == true ? React.createElement(SearchedProduct, {\n    navigation: props.navigation,\n    productsFiltered: productsFiltered,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }) : React.createElement(ScrollView, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, React.createElement(SafeAreaView, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, React.createElement(Banner, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 19\n    }\n  })), React.createElement(CategoryFilter, {\n    categories: categories,\n    categoryFilter: changeCtg,\n    productsCtg: productsCtg,\n    active: active,\n    setActive: setActive,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }), React.createElement(View, {\n    style: styles.listContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: styles.deliverPickup,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 19\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.deliverPickupDetails,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.deliverPickupDetailsText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 23\n    }\n  }, \"Deliver\")), React.createElement(TouchableOpacity, {\n    style: styles.deliverPickupDetails,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.deliverPickupDetailsText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 23\n    }\n  }, \"400B Albert Street\")), React.createElement(TouchableOpacity, {\n    style: styles.deliverPickupDetails,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.deliverPickupDetailsText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 23\n    }\n  }, \"Now\"))), React.createElement(View, {\n    style: styles.searchContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 19\n    }\n  }, React.createElement(TextInput, {\n    style: styles.searchBar,\n    placeholder: \"Search...\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: styles.filterBtn,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, React.createElement(Icon, {\n    name: \"sliders-h\",\n    type: \"font-awesome-5\",\n    size: 30,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 23\n    }\n  }))), productsCtg.map(function (item) {\n    return React.createElement(ProductList, {\n      navigation: props.navigation,\n      key: item.name,\n      item: item,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 23\n      }\n    });\n  })))) : React.createElement(Container, {\n    style: [styles.center, {\n      backgroundColor: \"#f2f2f2\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }, React.createElement(ActivityIndicator, {\n    size: \"large\",\n    color: \"red\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  })));\n};\n\nvar styles = StyleSheet.create({\n  listContainer: {\n    flex: 1,\n    alignItems: \"center\",\n    backgroundColor: \"#ededed\",\n    borderTopLeftRadius: 50,\n    borderTopRightRadius: 50,\n    elevation: 8\n  },\n  deliverPickup: {\n    width: '90%',\n    marginTop: 20,\n    flexDirection: \"row\",\n    justifyContent: \"center\"\n  },\n  deliverPickupDetails: {\n    marginHorizontal: 5,\n    paddingHorizontal: 20,\n    paddingVertical: 7.5,\n    borderRadius: 15,\n    backgroundColor: \"green\"\n  },\n  deliverPickupDetailsText: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    fontSize: 16\n  },\n  searchContainer: {\n    width: '95%',\n    marginVertical: 20,\n    height: 50,\n    flexDirection: \"row\"\n  },\n  searchBar: {\n    width: '85%',\n    height: 50,\n    backgroundColor: \"white\",\n    borderTopLeftRadius: 30,\n    borderBottomLeftRadius: 30,\n    paddingHorizontal: 20,\n    fontSize: 18,\n    borderRightWidth: 1,\n    borderRightColor: \"#ededed\"\n  },\n  filterBtn: {\n    width: '15%',\n    height: 50,\n    backgroundColor: \"white\",\n    borderTopRightRadius: 30,\n    borderBottomRightRadius: 30,\n    justifyContent: \"center\"\n  },\n  center: {\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});\nexport default ProductContainer;","map":{"version":3,"sources":["/Users/nikhil.ismail/Github/order-bud/OrderBud/frontend/Screens/Products/ProductContainer.js"],"names":["React","useState","useCallback","Container","useFocusEffect","baseUrl","axios","Icon","ProductList","SearchedProduct","Banner","CategoryFilter","baseURL","Dimensions","get","height","ProductContainer","props","products","setProducts","productsFiltered","setProductsFiltered","focus","setFocus","categories","setCategories","productsCtg","setProductsCtg","active","setActive","initialState","setInitialState","loading","setLoading","then","res","data","catch","error","console","log","searchProduct","text","filter","i","name","toLowerCase","includes","changeCtg","ctg","category","_id","navigation","styles","listContainer","deliverPickup","deliverPickupDetails","deliverPickupDetailsText","searchContainer","searchBar","filterBtn","map","item","center","backgroundColor","StyleSheet","create","flex","alignItems","borderTopLeftRadius","borderTopRightRadius","elevation","width","marginTop","flexDirection","justifyContent","marginHorizontal","paddingHorizontal","paddingVertical","borderRadius","color","fontWeight","fontSize","marginVertical","borderBottomLeftRadius","borderRightWidth","borderRightColor","borderBottomRightRadius"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from \"react\";\nimport { Text, View, StyleSheet, ActivityIndicator, ScrollView, Dimensions, SafeAreaView, TextInput, TouchableOpacity } from \"react-native\";\nimport { Container } from \"native-base\";\nimport { useFocusEffect } from '@react-navigation/native'\nimport baseUrl from \"../../assets/common/baseUrl\"\nimport axios from 'axios';\nimport { Icon } from 'react-native-elements'\n\nimport ProductList from \"./ProductList\";\nimport SearchedProduct from \"./SearchedProducts\";\nimport Banner from \"../../Shared/Banner\";\nimport CategoryFilter from \"./CategoryFilter\";\nimport baseURL from \"../../assets/common/baseUrl\";\n\nvar { height } = Dimensions.get('window')\n\nconst ProductContainer = (props) => {\n  const [products, setProducts] = useState([]);\n  const [productsFiltered, setProductsFiltered] = useState([]);\n  const [focus, setFocus] = useState();\n  const [categories, setCategories] = useState([]);\n  const [productsCtg, setProductsCtg] = useState([]);\n  const [active, setActive] = useState();\n  const [initialState, setInitialState] = useState([]);\n  const [loading, setLoading] = useState(true)\n\n  useFocusEffect((\n    useCallback(\n      () => {\n        setFocus(false);\n        setActive(-1);\n\n        // Products\n        axios\n          .get(`${baseURL}products`)\n          .then((res) => {\n            setProducts(res.data);\n            setProductsFiltered(res.data);\n            setProductsCtg(res.data);\n            setInitialState(res.data);\n            setLoading(false)\n          })\n          .catch((error) => {\n            console.log('Api call error')\n          })\n\n        // Categories\n        axios\n          .get(`${baseURL}categories`)\n          .then((res) => {\n            setCategories(res.data)\n          })\n          .catch((error) => {\n            console.log('Api call error')\n          })\n\n        return () => {\n          setProducts([]);\n          setProductsFiltered([]);\n          setFocus();\n          setCategories([]);\n          setActive();\n          setInitialState();\n        };\n      },\n      [],\n    )\n  ))\n\n  // Product Methods\n  const searchProduct = (text) => {\n    setProductsFiltered(\n      products.filter((i) => i.name.toLowerCase().includes(text.toLowerCase()))\n    );\n  };\n\n  // Categories\n  const changeCtg = (ctg) => {\n    {\n      ctg === \"all\"\n        ? [setProductsCtg(initialState), setActive(true)]\n        : [\n          setProductsCtg(\n            products.filter((i) => i.category._id === ctg),\n            setActive(true)\n          ),\n        ];\n    }\n  };\n\n  return (\n    <>\n      {loading == false ? (\n        <Container>\n          {focus == true ? (\n            <SearchedProduct\n              navigation={props.navigation}\n              productsFiltered={productsFiltered} />\n          ) : (\n              <ScrollView>\n                <SafeAreaView>\n                  <Banner />\n                </SafeAreaView>\n                <CategoryFilter\n                  categories={categories}\n                  categoryFilter={changeCtg}\n                  productsCtg={productsCtg}\n                  active={active}\n                  setActive={setActive}\n                />\n                <View style={styles.listContainer}>\n                  <View style={styles.deliverPickup}>\n                    <TouchableOpacity style={styles.deliverPickupDetails}>\n                      <Text style={styles.deliverPickupDetailsText}>Deliver</Text>\n                    </TouchableOpacity>\n                    <TouchableOpacity style={styles.deliverPickupDetails}>\n                      <Text style={styles.deliverPickupDetailsText}>400B Albert Street</Text>\n                    </TouchableOpacity>\n                    <TouchableOpacity style={styles.deliverPickupDetails}>\n                      <Text style={styles.deliverPickupDetailsText}>Now</Text>\n                    </TouchableOpacity>\n                  </View>\n                  <View style={styles.searchContainer}>\n                    <TextInput style={styles.searchBar} placeholder=\"Search...\"></TextInput>\n                    <TouchableOpacity style={styles.filterBtn}>\n                      <Icon name=\"sliders-h\" type=\"font-awesome-5\" size={30} />\n                    </TouchableOpacity>\n                  </View>\n                  {productsCtg.map((item) => {\n                    return (\n                      <ProductList\n                        navigation={props.navigation}\n                        key={item.name}\n                        item={item}\n                      />\n                    )\n                  })}\n                </View>\n              </ScrollView>\n            )}\n        </Container>\n      ) : (\n          // Loading\n          <Container style={[styles.center, { backgroundColor: \"#f2f2f2\" }]}>\n            <ActivityIndicator size=\"large\" color=\"red\" />\n          </Container>\n        )}\n    </>\n  );\n};\n\nconst styles = StyleSheet.create({\n  listContainer: {\n    flex: 1,\n    alignItems: \"center\",\n    backgroundColor: \"#ededed\",\n    borderTopLeftRadius: 50,\n    borderTopRightRadius: 50,\n    elevation: 8,\n  },\n  deliverPickup: {\n    width: '90%',\n    marginTop: 20,\n    flexDirection: \"row\",\n    justifyContent: \"center\"\n  },\n  deliverPickupDetails: {\n    marginHorizontal: 5,\n    paddingHorizontal: 20,\n    paddingVertical: 7.5,\n    borderRadius: 15,\n    backgroundColor: \"green\"\n  },\n  deliverPickupDetailsText: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    fontSize: 16\n  },\n  searchContainer: {\n    width: '95%',\n    marginVertical: 20,\n    height: 50,\n    flexDirection: \"row\"\n  },\n  searchBar: {\n    width: '85%',\n    height: 50,\n    backgroundColor: \"white\",\n    borderTopLeftRadius: 30,\n    borderBottomLeftRadius: 30,\n    paddingHorizontal: 20,\n    fontSize: 18,\n    borderRightWidth: 1,\n    borderRightColor: \"#ededed\"\n  },\n  filterBtn: {\n    width: '15%',\n    height: 50,\n    backgroundColor: \"white\",\n    borderTopRightRadius: 30,\n    borderBottomRightRadius: 30,\n    justifyContent: \"center\",\n  },\n  center: {\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});\n\nexport default ProductContainer;\n"]},"metadata":{},"sourceType":"module"}